{"version":3,"sources":["webpack:///static/js/cart.374862fbf3f94532c99e.js","webpack:///./src/modules/js/app.js?fef2***","webpack:///./src/pages/cart/cart.js","webpack:///./src/modules/js/mixin.js?53fa**","webpack:///./src/modules/js/fetch.js?c08e","webpack:///./src/modules/js/cartService.js"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","url","hotLists","banner","topLists","rank","subListFood","subListWomen","subListMen","subListDigital","searchList","details","deal","cartAdd","cartRemove","cartMremove","cartReduce","cartList","cartUpdate","addressList","addressAdd","addressRemove","addressUpdate","addressSetDefault","key","hasOwnProperty","106","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__cart_base_css__","__WEBPACK_IMPORTED_MODULE_1__cart_trade_css__","n","__WEBPACK_IMPORTED_MODULE_2__cart_css__","__WEBPACK_IMPORTED_MODULE_3_vue__","__WEBPACK_IMPORTED_MODULE_4_axios__","__WEBPACK_IMPORTED_MODULE_4_axios___default","__WEBPACK_IMPORTED_MODULE_5_js_app_js__","__WEBPACK_IMPORTED_MODULE_6_js_mixin_js__","__WEBPACK_IMPORTED_MODULE_7_velocity_animate__","__WEBPACK_IMPORTED_MODULE_7_velocity_animate___default","__WEBPACK_IMPORTED_MODULE_8_js_cartService_js__","el","data","lists","totalPrice","totalNum","editingShop","editingShopIndex","removePopup","removeMsg","removeData","computed","allSelected","get","this","length","every","shop","checked","set","newVal","forEach","goodsList","good","selectdList","arr","total","push","price","number","allRemoveSelected","removeChecked","removeList","created","getList","methods","_this","a","then","res","editMsg","editing","selectGood","atrr","selectShop","selectAll","edit","shopIndex","item","id","reduce","add","remove","goodIndex","removeSeveral","removeConfirm","_this2","_removeData","splice","changeOtherShop","ids","post","indexOf","start","e","startX","changedTouches","clientX","end","endX","left","$refs","mixins","2","mixin","filters","currency","priceStr","split","substr","28","fetch","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","__WEBPACK_IMPORTED_MODULE_1_axios___default","status","catch","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_axios__","68","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2__fetch_js__","__WEBPACK_IMPORTED_MODULE_3__app_js__","Cart","i","72","exports","73","74"],"mappings":"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","file":"static/js/cart.374862fbf3f94532c99e.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar url = {\n    hotLists: '/index/hotLists',\n    banner: '/index/banner',\n    topLists: '/category/topList',\n    rank: '/category/rank',\n    subListFood: '/category/subListFood',\n    subListWomen: '/category/subListWomen',\n    subListMen: '/caregory/subListMen',\n    subListDigital: '/category/subListDigital',\n    searchList: '/search/list',\n    details: '/goods/details',\n    deal: '/goods/deal',\n    cartAdd: '/cart/add',\n    cartRemove: '/cart/remove',\n    cartMremove: '/cart/mremove',\n    cartReduce: '/cart/reduce',\n    cartList: '/cart/list',\n    cartUpdate: '/cart/update',\n    addressList: '/address/list',\n    addressAdd: '/address/add',\n    addressRemove: '/address/remove',\n    addressUpdate: '/address/update',\n    addressSetDefault: '/address/setDefault'\n};\n\nvar host = 'https://www.easy-mock.com/mock/5c45f81e0714c82b413833d1/shop';\n\nfor (var key in url) {\n    if (url.hasOwnProperty(key)) {\n        url[key] = host + url[key];\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_base_css__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__cart_base_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__cart_base_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_trade_css__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__cart_trade_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__cart_trade_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_css__ = __webpack_require__(72);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cart_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__cart_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_app_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_js_mixin_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_velocity_animate__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_velocity_animate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_velocity_animate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_js_cartService_js__ = __webpack_require__(68);\n\n\n\n\n\n\n\n\n\n\nnew __WEBPACK_IMPORTED_MODULE_3_vue__[\"default\"]({\n    el: '.container',\n    data: {\n        lists: null,\n        totalPrice: 0,\n        totalNum: 0,\n        editingShop: null,\n        editingShopIndex: -1,\n        removePopup: false,\n        removeMsg: '',\n        removeData: null\n    },\n    computed: {\n        allSelected: {\n            get: function get() {\n                if (this.lists && this.lists.length) {\n                    return this.lists.every(function (shop) {\n                        //every的值要return出去\n                        return shop.checked;\n                    });\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                this.lists.forEach(function (shop) {\n                    shop.checked = newVal;\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = newVal;\n                    });\n                });\n            }\n        },\n        selectdList: function selectdList() {\n            if (this.lists && this.lists.length) {\n                var arr = [];\n                var total = 0;\n                var totalNum = 0;\n                this.lists.forEach(function (shop) {\n                    shop.goodsList.forEach(function (good) {\n                        if (good.checked) {\n                            arr.push(good);\n                            total += good.price * good.number;\n                            totalNum = arr.length;\n                        }\n                    });\n                });\n                this.totalPrice = total;\n                this.totalNum = totalNum;\n                return arr;\n            }\n            return [];\n        },\n\n        allRemoveSelected: {\n            get: function get() {\n                if (this.editingShop) {\n                    return this.editingShop.removeChecked;\n                }\n                return false;\n            },\n            set: function set(newVal) {\n                if (this.editingShop) {\n                    this.editingShop.removeChecked = newVal;\n                    this.editingShop.goodsList.forEach(function (good) {\n                        good.removeChecked = newVal;\n                    });\n                }\n            }\n        },\n        removeList: function removeList() {\n            if (this.editingShop) {\n                var arr = [];\n                this.editingShop.goodsList.forEach(function (good) {\n                    if (good.removeChecked) {\n                        arr.push(good);\n                    }\n                });\n                return arr;\n            }\n            return [];\n        }\n    },\n    created: function created() {\n        this.getList();\n    },\n\n    methods: {\n        getList: function getList() {\n            var _this = this;\n\n            __WEBPACK_IMPORTED_MODULE_4_axios___default.a.get(__WEBPACK_IMPORTED_MODULE_5_js_app_js__[\"a\" /* default */].cartList).then(function (res) {\n                var lists = res.data.cartList;\n                lists.forEach(function (shop) {\n                    shop.checked = true;\n                    shop.removeChecked = false;\n                    shop.editMsg = '编辑';\n                    shop.editing = false;\n                    shop.goodsList.forEach(function (good) {\n                        good.checked = true;\n                        good.removeChecked = false;\n                    });\n                });\n                _this.lists = lists;\n            });\n        },\n        selectGood: function selectGood(good, shop) {\n            var atrr = this.editingShop ? 'removeChecked' : 'checked';\n            good[atrr] = !good[atrr];\n            shop[atrr] = shop.goodsList.every(function (good) {\n                return good[atrr];\n            });\n        },\n        selectShop: function selectShop(shop) {\n            var atrr = this.editingShop ? 'removeChecked' : 'checked';\n            shop[atrr] = !shop[atrr];\n            shop.goodsList.forEach(function (good) {\n                good[atrr] = shop[atrr];\n            });\n        },\n        selectAll: function selectAll() {\n            var atrr = this.editingShop ? 'allRemoveSelected' : 'allSelected';\n            this[atrr] = !this[atrr];\n        },\n        edit: function edit(shop, shopIndex) {\n            shop.editing = !shop.editing;\n            shop.editMsg = shop.editing ? '完成' : '编辑';\n            this.lists.forEach(function (item, id) {\n                if (shopIndex !== id) {\n                    item.editing = false;\n                    item.editMsg = shop.editing ? '' : '编辑';\n                }\n            });\n            this.editingShop = shop.editing ? shop : null;\n            this.editingShopIndex = shop.editing ? shopIndex : -1;\n        },\n        reduce: function reduce(good) {\n            if (good.number === 1) return;\n            __WEBPACK_IMPORTED_MODULE_8_js_cartService_js__[\"a\" /* default */].reduce(good.id).then(function (res) {\n                good.number--;\n            });\n        },\n        add: function add(good) {\n            __WEBPACK_IMPORTED_MODULE_8_js_cartService_js__[\"a\" /* default */].add(good.id).then(function (res) {\n                good.number++;\n            });\n        },\n        remove: function remove(good, goodIndex, shop, shopIndex) {\n            this.removePopup = true;\n            this.removeMsg = '确定删除该商品吗';\n            this.removeData = { good: good, goodIndex: goodIndex, shop: shop, shopIndex: shopIndex };\n        },\n        removeSeveral: function removeSeveral() {\n            this.removePopup = true;\n            this.removeMsg = '\\u786E\\u5B9A\\u5C06\\u6240\\u9009' + this.removeList.length + '\\u4E2A\\u5546\\u54C1\\u5220\\u9664\\u5417';\n        },\n        removeConfirm: function removeConfirm() {\n            var _this2 = this;\n\n            if (this.removeMsg === '确定删除该商品吗') {\n                var _removeData = this.removeData,\n                    good = _removeData.good,\n                    goodIndex = _removeData.goodIndex,\n                    shop = _removeData.shop,\n                    shopIndex = _removeData.shopIndex;\n\n                __WEBPACK_IMPORTED_MODULE_8_js_cartService_js__[\"a\" /* default */].remove(good.id).then(function (res) {\n                    shop.goodsList.splice(goodIndex, 1);\n                    if (shop.goodsList.length === 0) {\n                        _this2.lists.splice(shopIndex, 1);\n                        _this2.changeOtherShop();\n                    }\n                    _this2.removePopup = false;\n                });\n            } else {\n                var ids = [];\n                this.removeList.forEach(function (good) {\n                    ids.push(good.id);\n                });\n                __WEBPACK_IMPORTED_MODULE_4_axios___default.a.post(__WEBPACK_IMPORTED_MODULE_5_js_app_js__[\"a\" /* default */].cartMremove, {\n                    ids: ids\n                }).then(function (res) {\n                    var arr = [];\n                    _this2.editingShop.goodsList.forEach(function (good) {\n                        if (ids.indexOf(good.id) === -1) {\n                            arr.push(good);\n                        }\n                        return arr;\n                    });\n                    if (arr.length) {\n                        _this2.editingShop.goodsList = arr;\n                    } else {\n                        _this2.lists.splice(_this2.editingShopIndex, 1);\n                        _this2.changeOtherShop();\n                    }\n                    _this2.removePopup = false;\n                });\n            }\n        },\n        changeOtherShop: function changeOtherShop() {\n            this.editingShop = null;\n            this.editingShopIndex = -1;\n            this.lists.forEach(function (shop) {\n                shop.editing = false;\n                shop.editMsg = '编辑';\n            });\n        },\n        start: function start(e, good) {\n            good.startX = e.changedTouches[0].clientX;\n        },\n        end: function end(e, good, shopIndex, goodIndex) {\n            var endX = e.changedTouches[0].clientX;\n            var left = '222';\n            if (good.startX - endX > 100) {\n                left = '-60px';\n            }\n            if (endX - good.startX > 100) {\n                left = '0px';\n            }\n            __WEBPACK_IMPORTED_MODULE_7_velocity_animate___default()(this.$refs['good-' + shopIndex + '-' + goodIndex], { left: left });\n        }\n    },\n    mixins: [__WEBPACK_IMPORTED_MODULE_6_js_mixin_js__[\"a\" /* default */]]\n});\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar mixin = {\n    filters: {\n        currency: function currency(price) {\n            var priceStr = '' + price;\n            if (priceStr.indexOf('.') !== -1) {\n                var arr = priceStr.split('.');\n                return arr[0] + '.' + (arr[1] + '0').substr(0, 2);\n            } else {\n                return priceStr + '.00';\n            }\n        }\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (mixin);\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n\n\n\nfunction fetch(url, data) {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n        __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post(url, data).then(function (res) {\n            var status = res.data.status;\n            if (status === 200) {\n                resolve(res);\n            }\n            reject(res);\n        }).catch(function (err) {\n            reject(err);\n        });\n    });\n}\n/* harmony default export */ __webpack_exports__[\"a\"] = (fetch);\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__fetch_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_js__ = __webpack_require__(0);\n\n\n\n\n\nvar Cart = function () {\n    function Cart() {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Cart);\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Cart, null, [{\n        key: 'add',\n        value: function add(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3__app_js__[\"a\" /* default */].cartAdd, {\n                id: id,\n                number: 1\n            });\n        }\n    }, {\n        key: 'reduce',\n        value: function reduce(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3__app_js__[\"a\" /* default */].cartReduce, {\n                id: id,\n                number: 1\n            });\n        }\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__fetch_js__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_3__app_js__[\"a\" /* default */].cartRemove, { id: id });\n        }\n    }]);\n\n    return Cart;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Cart);\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[106]);\n\n\n// WEBPACK FOOTER //\n// static/js/cart.374862fbf3f94532c99e.js","let url = {\r\n    hotLists:'/index/hotLists',\r\n    banner:'/index/banner',\r\n    topLists:'/category/topList',\r\n    rank:'/category/rank',\r\n    subListFood:'/category/subListFood',\r\n    subListWomen: '/category/subListWomen',\r\n    subListMen:'/caregory/subListMen',\r\n    subListDigital:'/category/subListDigital',\r\n    searchList:'/search/list',\r\n    details:'/goods/details',\r\n    deal:'/goods/deal',\r\n    cartAdd:'/cart/add',\r\n    cartRemove:'/cart/remove',\r\n    cartMremove: '/cart/mremove',\r\n    cartReduce: '/cart/reduce',\r\n    cartList: '/cart/list',\r\n    cartUpdate: '/cart/update',\r\n    addressList: '/address/list',\r\n    addressAdd: '/address/add',\r\n    addressRemove: '/address/remove',\r\n    addressUpdate: '/address/update',\r\n    addressSetDefault: '/address/setDefault'\r\n}\r\n\r\nlet host = 'https://www.easy-mock.com/mock/5c45f81e0714c82b413833d1/shop'\r\n\r\nfor (let key in url) {\r\n    if (url.hasOwnProperty(key)) {\r\n        url[key] = host + url[key]\r\n    }\r\n}\r\n\r\nexport default url\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/app.js","import './cart_base.css'\r\nimport './cart_trade.css'\r\nimport './cart.css'\r\n\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from 'js/app.js'\r\nimport mixin from 'js/mixin.js'\r\nimport Velocity from 'velocity-animate'\r\nimport Cart from 'js/cartService.js'\r\nnew Vue({\r\n    el:'.container',\r\n    data:{\r\n        lists:null,\r\n        totalPrice:0,\r\n        totalNum:0,\r\n        editingShop: null,\r\n        editingShopIndex: -1,\r\n        removePopup: false,\r\n        removeMsg:'',\r\n        removeData:null\r\n        },\r\n    computed:{\r\n        allSelected:{\r\n            get(){\r\n                if(this.lists&&this.lists.length){\r\n                    return this.lists.every(shop=>{ //every的值要return出去\r\n                        return shop.checked\r\n                    })\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                this.lists.forEach(shop=>{\r\n                    shop.checked = newVal\r\n                    shop.goodsList.forEach(good=>{\r\n                        good.checked = newVal\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        selectdList(){\r\n            if(this.lists&&this.lists.length){\r\n                let arr = []\r\n                let total = 0\r\n                let totalNum = 0\r\n                this.lists.forEach(shop=>{\r\n                    shop.goodsList.forEach(good=>{\r\n                        if(good.checked){\r\n                            arr.push(good)\r\n                            total += good.price * good.number\r\n                            totalNum = arr.length\r\n                        }\r\n                    })\r\n                })\r\n                this.totalPrice = total\r\n                this.totalNum = totalNum\r\n                return arr\r\n            }\r\n                return []\r\n        },\r\n        allRemoveSelected:{\r\n            get(){\r\n                if(this.editingShop){\r\n                    return this.editingShop.removeChecked\r\n                }\r\n                return false\r\n            },\r\n            set(newVal){\r\n                if(this.editingShop){\r\n                    this.editingShop.removeChecked = newVal\r\n                    this.editingShop.goodsList.forEach(good=>{\r\n                        good.removeChecked = newVal\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        removeList(){\r\n            if(this.editingShop){\r\n                let arr = []\r\n                this.editingShop.goodsList.forEach(good=>{\r\n                    if(good.removeChecked){\r\n                        arr.push(good)\r\n                    }\r\n                })\r\n                return arr\r\n            }\r\n            return []\r\n        }\r\n    },\r\n    created(){\r\n        this.getList()\r\n    },\r\n    methods:{\r\n        getList(){\r\n            axios.get(url.cartList).then( res => {\r\n                let lists = res.data.cartList\r\n                lists.forEach(shop => {\r\n                    shop.checked = true\r\n                    shop.removeChecked = false\r\n                    shop.editMsg = '编辑'\r\n                    shop.editing = false\r\n                    shop.goodsList.forEach(good =>{\r\n                        good.checked = true\r\n                        good.removeChecked = false\r\n                    })\r\n                })\r\n                this.lists = lists\r\n            })\r\n        },\r\n        selectGood(good,shop){\r\n            let atrr = this.editingShop ? 'removeChecked' : 'checked'\r\n            good[atrr] = !good[atrr]\r\n            shop[atrr] = shop.goodsList.every(good=>{\r\n                return good[atrr]\r\n            })\r\n        },\r\n        selectShop(shop){\r\n            let atrr = this.editingShop ? 'removeChecked' : 'checked'\r\n            shop[atrr] = !shop[atrr]\r\n            shop.goodsList.forEach(good=>{\r\n                good[atrr] = shop[atrr]\r\n            })\r\n        },\r\n        selectAll(){\r\n            let atrr = this.editingShop ? 'allRemoveSelected' : 'allSelected'\r\n            this[atrr] = !this[atrr]\r\n        },\r\n        edit(shop,shopIndex){\r\n            shop.editing = !shop.editing\r\n            shop.editMsg = shop.editing ? '完成' : '编辑'\r\n            this.lists.forEach((item,id)=>{\r\n                if(shopIndex !== id){\r\n                    item.editing = false\r\n                    item.editMsg = shop.editing ? '' : '编辑'\r\n                }\r\n            })\r\n            this.editingShop = shop.editing ? shop : null\r\n            this.editingShopIndex = shop.editing ? shopIndex : -1\r\n        },\r\n        reduce(good){\r\n            if(good.number === 1) return\r\n            Cart.reduce(good.id).then(res=>{\r\n                    good.number--\r\n                })\r\n        },\r\n        add(good){ \r\n            Cart.add(good.id).then(res=>{\r\n                    good.number++\r\n                })\r\n        },\r\n        remove(good,goodIndex,shop,shopIndex){\r\n            this.removePopup =  true\r\n            this.removeMsg = '确定删除该商品吗'\r\n            this.removeData = {good,goodIndex,shop,shopIndex}\r\n        },\r\n        removeSeveral(){\r\n            this.removePopup =  true\r\n            this.removeMsg = `确定将所选${this.removeList.length}个商品删除吗`\r\n        },\r\n        removeConfirm(){\r\n            if(this.removeMsg==='确定删除该商品吗'){\r\n                let {good,goodIndex,shop,shopIndex} = this.removeData\r\n                Cart.remove(good.id).then(res=>{\r\n                    shop.goodsList.splice(goodIndex,1)\r\n                    if(shop.goodsList.length===0){\r\n                        this.lists.splice(shopIndex,1)\r\n                        this.changeOtherShop()\r\n                    }\r\n                    this.removePopup = false\r\n                })\r\n            }else{\r\n                let ids = []\r\n                this.removeList.forEach(good=>{\r\n                    ids.push(good.id)\r\n                })\r\n                axios.post(url.cartMremove, {\r\n                    ids\r\n                }).then(res => {\r\n                    let arr = []\r\n                    this.editingShop.goodsList.forEach(good=>{\r\n                        if(ids.indexOf(good.id)===-1){\r\n                            arr.push(good)\r\n                        }\r\n                        return arr\r\n                    })\r\n                    if(arr.length){\r\n                        this.editingShop.goodsList = arr\r\n                    }else{\r\n                        this.lists.splice(this.editingShopIndex,1)\r\n                        this.changeOtherShop()\r\n                    }\r\n                    this.removePopup = false\r\n                })\r\n            }\r\n        },\r\n        changeOtherShop(){\r\n            this.editingShop = null\r\n            this.editingShopIndex = -1\r\n            this.lists.forEach(shop=>{\r\n                shop.editing = false\r\n                shop.editMsg = '编辑'\r\n            })\r\n        },\r\n        start(e,good){\r\n            good.startX = e.changedTouches[0].clientX\r\n        },\r\n        end(e,good,shopIndex,goodIndex){\r\n            let endX = e.changedTouches[0].clientX\r\n            let left = '222'\r\n            if(good.startX - endX > 100){\r\n                left = '-60px'\r\n            }\r\n            if(endX - good.startX > 100){\r\n                left = '0px'\r\n            }\r\n            Velocity(this.$refs[`good-${shopIndex}-${goodIndex}`],\r\n            {left})\r\n        }\r\n    },\r\n    mixins:[mixin]\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.js","let mixin = {\r\n    filters:{\r\n        currency(price){\r\n            let priceStr = '' + price\r\n            if(priceStr.indexOf('.') !== -1){\r\n                let arr = priceStr.split('.')\r\n                return arr[0] + '.' + (arr[1] + '0').substr(0,2)\r\n            }else{\r\n                return priceStr + '.00'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js","import axios from 'axios'\r\n\r\nfunction fetch(url,data){\r\n    return new Promise((resolve,reject)=>{\r\n        axios.post(url,data).then(res=>{\r\n            let status = res.data.status\r\n            if(status===200){\r\n                resolve(res)\r\n            }\r\n            reject(res)\r\n        }).catch(err=>{\r\n            reject(err)\r\n        })\r\n    })\r\n}\r\nexport default fetch\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/fetch.js","import fetch from './fetch.js'\r\nimport url from './app.js'\r\n\r\nclass Cart{\r\n    static add(id){\r\n        return fetch(url.cartAdd,{\r\n            id,\r\n            number: 1\r\n        })\r\n    }\r\n    static reduce(id){\r\n        return fetch(url.cartReduce,{\r\n            id,\r\n            number: 1\r\n        })\r\n    }\r\n    static remove(id){\r\n        return fetch(url.cartRemove,{id})\r\n    }\r\n}\r\nexport default Cart\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/cartService.js"],"sourceRoot":""}